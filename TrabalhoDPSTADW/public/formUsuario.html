<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../controle/jquery-3.7.1.min.js"></script>
    <script src="../controle/jquery.validate.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./estilo/estilo_index.css">

    <script>
        // programar a validação do formulário
        $('document').ready(function () {
            $('#formulario').validate({
                rules: {
                    nome: {
                        required: true,
                        minlength: 3,
                    },
                    gmail: {
                        required: true,
                        minlength: 5,
                    },
                    gmail2: {
                        required: true,
                        equalTo: '#gmail',
                    },
                    senha: {
                        minlength: 8,
                        required: true,
                    },
                    senha2: {
                        equalTo: '#senha',
                        required: true,
                    }
                },
                messages: {
                    nome: {
                        required: "Esse campo não pode ser vazio",
                        minlength: "Tamanho mínimo de 3 símbolos"
                    },
                    gmail: {
                        required: "Esse campo não pode ser vazio",
                        minlength: "Insira um endereço de e-mail válido."
                    },
                    gmail2: {
                        required: "Esse campo não pode ser vazio",
                        equalTo: "Os e-mails não são iguais."
                    },
                    senha: {
                        required: "Esse campo não pode ser vazio",
                        minlength: "Tamanho mínimo de 8 símbolos"
                    },
                    senha2: {
                        equalTo: "As senhas não são iguais.",
                        required: "Esse campo não pode ser vazio"
                    }
                }
            })
        })

        // Função para mostrar/ocultar senha
        function togglePassword() {
            const passwordInput = document.getElementById('senha');
            const toggleIcon = document.querySelector('.toggle-password i');

            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
                toggleIcon.setAttribute('aria-label', 'Ocultar senha');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
                toggleIcon.setAttribute('aria-label', 'Mostrar senha');
            }
        }


        




    </script>
</head>

<body>
    <form id="formulario" action="../controle/salvarUsuario.php" method="post" enctype="multipart/form-data">
        <h1> Cadastro de Usuário</h1>

        Nome: <br>
        <input type="text" name="nome" id="nome"> <br><br>

        E-mail: <br>
        <input type="text" name="gmail" id="gmail"> <br><br>

        Confirmar de e-mail: <br>
        <input type="text" name="gmail2" id="gmail2"> <br><br>

        Senha: <br>
        <input type="password" name="senha" id="senha"> <br><br><br>

        <button type="button" class="toggle-password" onclick="togglePassword()" aria-label="Mostrar senha">
            <i class="fas fa-eye"></i>
        </button>
        <br><br>

        Confirmar senha: <br>
        <input type="password" name="senha2" id="senha2"> <br><br><br>
        <button type="button" class="toggle-password" onclick="togglePassword()" aria-label="Mostrar senha">
            <i class="fas fa-eye"></i>
        </button> <br><br>

        Foto: <br>
        <input type="file" name="foto" id="foto"> <br><br>



        <input type="submit" value="Acessar">
    </form>
    <br>


</body>

</html>